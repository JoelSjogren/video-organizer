### help section ###
import subprocess
with open('../src/help.cpp', 'w') as help_cpp:
	comment = "// This file is automatically generated.\n" + \
		"// Do not modify it or your changes will be lost.\n"
	command = ['xxd', '-i', '../HELP.md']
	proc = subprocess.Popen(command, stdout=subprocess.PIPE)
	array = proc.stdout.read()
	help_cpp.write(comment + array)	

### what to link ###
env = Environment()
link = env.Object(
    ['args.cpp', 'args_test.cpp', 'console.cpp', 'filelist.cpp',
     'filelist_test.cpp', 'fileman.cpp', 'help.cpp',
     'organizer.cpp', 'parser.cpp', 'parser_test.cpp',
     'parser_test_data.cpp', 'test.cpp', 'tinyxml2.cpp'])
LIBS = ['boost_regex', 'boost_filesystem', 'boost_system']

### build ###
vorg = env.Program('../vorg', ['main.cpp'] + link, LIBS=LIBS)
testsuite = env.Program('../test-suite', ['testsuite.cpp'] + link, LIBS=LIBS)

